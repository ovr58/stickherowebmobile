System.register("chunks:///_virtual/AudioController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,i,o,e,u,r,l,c,s,a,d,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){u=t.cclegacy,r=t._decorator,l=t.AudioClip,c=t.director,s=t.log,a=t.AudioSource,d=t.error,p=t.Component}],execute:function(){var f,h,b,g,m,S,k,y,w,I,M,C,v,z,G,A,B,x,F,P,_,D;u._RF.push({},"f00a8wtQxpII5W14txxy4dY","AudioController",void 0);var H=r.ccclass,L=r.property;t("AudioController",(f=H("AudioController"),h=L({type:l,displayName:"Background Music",tooltip:"Audio clip for background music"}),b=L(l),g=L(l),m=L(l),S=L(l),k=L(l),y=L(l),w=L(l),I=L(l),f(((D=function(t){function n(){for(var n,i=arguments.length,u=new Array(i),r=0;r<i;r++)u[r]=arguments[r];return n=t.call.apply(t,[this].concat(u))||this,o(n,"backgroundMusic",v,e(n)),o(n,"fallSound",z,e(n)),o(n,"stickGrowSound",G,e(n)),o(n,"stickHitSound",A,e(n)),o(n,"stickFallSound",B,e(n)),o(n,"bonusSound",x,e(n)),o(n,"skuCollectSound",F,e(n)),o(n,"platformSound",P,e(n)),o(n,"buttonClickSound",_,e(n)),n.musicId=-1,n.stickGrowSoundId=-1,n.IsMuted=!1,n}i(n,t);var u=n.prototype;return u.onLoad=function(){null===n.instance?(n.instance=this,c.addPersistRootNode(this.node),this.playBackgroundMusic()):this.node.destroy()},u.playBackgroundMusic=function(){if(!this.IsMuted&&-1===this.musicId&&this.backgroundMusic){s("Playing background music:",this.backgroundMusic);var t=this.node.getComponent(a);t.clip=this.backgroundMusic,t.loop=!0,t.play(),this.musicId=t.playing?1:-1}},u.stopBackgroundMusic=function(){-1!==this.musicId&&(this.node.getComponent(a).stop(),this.musicId=-1)},u.playSound=function(t){!this.IsMuted&&t&&this.node.getComponent(a).playOneShot(t)},u.playStickGrowSound=function(){if(!this.IsMuted&&this.stickGrowSound&&-1===this.stickGrowSoundId){var t=this.node.getComponent(a);t.clip=this.stickGrowSound,t.loop=!0,t.play(),this.stickGrowSoundId=t.playing?1:-1}},u.stopStickGrowSound=function(){-1!==this.stickGrowSoundId&&(this.node.getComponent(a).stop(),this.stickGrowSoundId=-1)},u.mute=function(){this.IsMuted=!0,this.node.getComponent(a).volume=0},u.unmute=function(){this.IsMuted=!1,this.node.getComponent(a).volume=1},u.toggleSound=function(){this.IsMuted?this.unmute():this.mute()},n.getInstance=function(){return n.instance||d("AudioManager instance is null."),n.instance},n}(p)).instance=null,v=n((C=D).prototype,"backgroundMusic",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(C.prototype,"fallSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(C.prototype,"stickGrowSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(C.prototype,"stickHitSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(C.prototype,"stickFallSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(C.prototype,"bonusSound",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(C.prototype,"skuCollectSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(C.prototype,"platformSound",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(C.prototype,"buttonClickSound",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=C))||M));u._RF.pop()}}}));

System.register("chunks:///_virtual/BonusItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,n,e,s,i;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,s=t.Vec3,i=t.Component}],execute:function(){var r;n._RF.push({},"89b30rWtFJGY61J6TxZtj/7","BonusItem",void 0);var c=e.ccclass;t("BonusItem",c("BonusItem")(r=function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.initPlatform=function(t){console.log("INIT BONUS ITEM -",t,this.node.position.y),this.node.setPosition(new s(t,-380,0))},n}(i))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/EndGamePopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameControll.ts","./AudioController.ts"],(function(t){var e,o,n,r,i,a,s,l,u,c,d,p,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,s=t.Node,l=t.director,u=t.Canvas,c=t.Label,d=t.Component},function(t){p=t.GameControll},function(t){h=t.AudioController}],execute:function(){var y,S,f,b,C,m,g,N,v,B,E;i._RF.push({},"aed1cLv399MMb4f98C0fdzN","EndGamePopup",void 0);var T=a.ccclass,G=a.property;t("EndGamePopup",(y=T("EndGamePopup"),S=G({type:s,displayName:"Restart Button",tooltip:"Node that displays the restart button"}),f=G({type:s,displayName:"Start Screen Button",tooltip:"Node that displays the start screen button"}),b=G({type:s,displayName:"Score Node",tooltip:"Node that displays the score"}),C=G({type:s,displayName:"Best Score Node",tooltip:"Node that displays the best score"}),y((N=e((g=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,n(e,"restartButton",N,r(e)),n(e,"startScreenButton",v,r(e)),n(e,"scoreNode",B,r(e)),n(e,"bestScoreNode",E,r(e)),e.audioController=null,e}o(e,t);var i=e.prototype;return i.onLoad=function(){this.node.active=!1,this.node.setSiblingIndex(999),this.initTouchEvent(),this.audioController=h.getInstance()},i.initTouchEvent=function(){this.restartButton&&this.restartButton.on(s.EventType.TOUCH_END,this.onRestartTouched,this),this.startScreenButton&&this.startScreenButton.on(s.EventType.TOUCH_END,this.onStartScreenTouched,this)},i.onRestartTouched=function(){this.audioController.IsMuted||this.audioController.playSound(this.audioController.buttonClickSound),this.node.active=!1,l.getScene().getComponentInChildren(u).getComponent(p).restartGame()},i.onStartScreenTouched=function(){this.audioController.IsMuted||this.audioController.playSound(this.audioController.buttonClickSound),l.loadScene("StartScene")},i.showPopup=function(t,e){this.node.active=!0,this.node.setSiblingIndex(this.node.parent.children.length-1),this.scoreNode.getComponent(c).string=t.toString(),this.bestScoreNode.getComponent(c).string=e.toString()},i.hidePopup=function(){this.node.active=!1},i.onGameEnd=function(){this.node.active=!0},e}(d)).prototype,"restartButton",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(g.prototype,"startScreenButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(g.prototype,"scoreNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(g.prototype,"bestScoreNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=g))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/GameControll.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameStates.ts","./EndGamePopup.ts","./ScoreController.ts","./AudioController.ts","./SkuCounter.ts","./Stick.ts","./Hero.ts","./PlayerStates.ts","./Platform.ts","./BonusItem.ts"],(function(t){var o,e,i,n,s,a,l,r,u,h,c,d,p,m,f,P,C,N,g,S,y,b,k,v,I,G,w,T,x,D,E;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,l=t.Node,r=t.Prefab,u=t.CCFloat,h=t.PhysicsSystem2D,c=t.instantiate,d=t.find,p=t.view,m=t.UITransform,f=t.tween,P=t.Vec3,C=t.math,N=t.BoxCollider2D,g=t.Contact2DType,S=t.log,y=t.Component},function(t){b=t.GameStates},function(t){k=t.EndGamePopup},function(t){v=t.ScoreController},function(t){I=t.AudioController},function(t){G=t.SkuCounter},function(t){w=t.Stick},function(t){T=t.Hero},function(t){x=t.PlayerStates},function(t){D=t.Platform},function(t){E=t.BonusItem}],execute:function(){var B,z,O,M,R,F,U,A,W,L,X,H,_,V,j,K,J,Q,Y,q,Z,$,tt,ot,et;s._RF.push({},"b73e9v25Q1D1JndEoG/7x3r","GameControll",void 0);var it=a.ccclass,nt=a.property;t("GameControll",(B=it("GameControll"),z=nt({type:l,displayName:"RootNode",tooltip:"Where all the game objects are placed"}),O=nt({type:l,displayName:"Default Position",tooltip:"Default position where the player and platform would be moved to after a successful stick"}),M=nt({type:r,displayName:"StickPrefab",tooltip:"Stick prefab"}),R=nt({type:r,displayName:"PlatformPrefab",tooltip:"Platform prefab"}),F=nt({type:r,displayName:"PlayerPrefab",tooltip:"Player prefab"}),U=nt({type:r,displayName:"Bonus Item Prefab",tooltip:"Prefab for the bonus item"}),A=nt({type:u,displayName:"Player Prefab Width",tooltip:"Necessary for calculating initial player position"}),W=nt({type:u,displayName:"Platform Prefab Width",tooltip:"Necessary for calculating initial platform position"}),L=nt({type:r,displayName:"End Game Popup Prefab",tooltip:"Prefab for the end game popup"}),X=nt({type:l,displayName:"UI Node",tooltip:"Node for UI elements"}),H=nt({type:l,displayName:"Score Node",tooltip:"Node that displays the current score"}),B((j=o((V=function(t){function o(){for(var o,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return o=t.call.apply(t,[this].concat(s))||this,i(o,"rootNode",j,n(o)),i(o,"defaultPosition",K,n(o)),i(o,"stickPrefab",J,n(o)),i(o,"platformPrefab",Q,n(o)),i(o,"playerPrefab",Y,n(o)),i(o,"bonusItemPrefab",q,n(o)),i(o,"playerPrefabWidth",Z,n(o)),i(o,"platformPrefabWidth",$,n(o)),i(o,"endGamePopupPrefab",tt,n(o)),i(o,"uiNode",ot,n(o)),i(o,"scoreNode",et,n(o)),o.endGamePopupInstance=null,o.platformNode=null,o.nextPlatformNode=null,o.oldStickNode=null,o.stickNode=null,o.playerNode=null,o.bonusItemNode=null,o.stickComponent=null,o.endGamePopupComponent=null,o.scoreController=null,o.audioController=null,o.skuCounter=null,o.moveDetails={distance:0,startX:0,targetX:0,duration:0,elapsedTime:0,callback:null},o.GameState=b.Idle,o.futurePlatformPosition=void 0,o}e(o,t);var s=o.prototype;return s.onLoad=function(){console.log("GameControll onLoad"),h.instance.enable=!0,this.endGamePopupInstance=c(this.endGamePopupPrefab),this.uiNode.addChild(this.endGamePopupInstance),this.endGamePopupComponent=this.endGamePopupInstance.getComponent(k),this.scoreController=d("Canvas/UI/Score").getComponent(v),this.skuCounter=d("Canvas/UI/SkuCounter").getComponent(G),this.audioController=I.getInstance(),this.initializeGameInstance(),this.initTouchEvents()},s.initializeGameInstance=function(){console.log("initializeGameInstance");var t=-p.getVisibleSize().width/2,o=t+this.platformPrefabWidth/2-this.playerPrefabWidth/1.2;this.platformNode=this.createPlatform(t,this.platformPrefabWidth,!1),this.futurePlatformPosition=this.platformNode.position.x,this.playerNode=this.createPlayer(o),this.spawnNextPlatform(),this.setState(b.Idle,"initializeGameInstance")},s.calculateNextPlatformPosition=function(){var t=p.getVisibleSize().width-this.platformPrefabWidth-50,o=150+Math.random()*(t-150);return this.defaultPosition.position.x+o},s.calculateNextBonusItemPosition=function(t){var o=this.platformNode.getComponent(m),e=this.nextPlatformNode.getComponent(m),i=this.futurePlatformPosition+o.width/2+50,n=t-e.width/2-50;if(o&&e&&n-i>50){var s=i+Math.random()*(n-i);return console.log("BONUS ITEM TARGET X - ",s),s}return null},s.spawnNextPlatform=function(){console.log("spawnNextPlatform");var t=p.getVisibleSize().width,o=this.calculateNextPlatformPosition();this.nextPlatformNode=this.createPlatform(t,0,!0),console.log("NEXTPLATFORM NODE - ",this.nextPlatformNode);var e=this.calculateNextBonusItemPosition(o);this.scoreController.score>=2&&e&&Math.random()<.8&&(this.bonusItemNode=this.createBonusItem(e)),this.movePlatformOntoScreen(this.nextPlatformNode,this.bonusItemNode,o,e)},s.createBonusItem=function(t){console.log("createBonusItem");var o=c(this.bonusItemPrefab);o.setSiblingIndex(999),this.rootNode.addChild(o);var e=o.getComponent(E);return e?(e.initPlatform(t),console.log("BONUS ITEM - ",e)):console.error("Platform component is missing"),o},s.movePlatformOntoScreen=function(t,o,e,i){console.log("movePlatformOntoScreen",t,e,o,i),t&&f(t).to(.5,{position:new P(e,t.position.y,0)}).start(),o&&i&&f(o).to(.25,{position:new P(i,-380,0)}).start()},s.createPlatform=function(t,o,e){void 0===o&&(o=0),void 0===e&&(e=!0),console.log("createPlatform",t,o);var i=c(this.platformPrefab);i.setSiblingIndex(996),this.rootNode.addChild(i);var n=i.getComponent(D);return n?(n.initPlatform(t,o,e),n.node.on("bonusPlatformTouched",this.onBonusPlatformTouched,this)):console.error("Platform component is missing"),i},s.createPlayer=function(t){console.log("createPlayer");var o=c(this.playerPrefab);o.setSiblingIndex(996),this.rootNode.addChild(o);var e=o.getComponent(T);e&&e.node.on("playCollectBonus",this.playCollectBonus,this);var i=this.platformNode.getComponent(m),n=o.getComponent(m);return i&&n&&o.setPosition(new P(t,this.platformNode.position.y+i.height/2+n.height/2,0)),o},s.update=function(t){if(this.GameState===b.Touching&&this.stickNode&&this.stickNode.getComponent(w).growStick(t),(this.GameState===b.Running||this.GameState===b.Coming)&&0!==this.moveDetails.targetX){this.moveDetails.elapsedTime+=t;var o=Math.min(this.moveDetails.elapsedTime/this.moveDetails.duration,1),e=C.lerp(this.moveDetails.startX,this.moveDetails.targetX,o);this.playerNode.setPosition(new P(e,this.playerNode.position.y,0)),o>=1&&(this.setState(b.End,"update"),this.moveDetails.targetX=0,this.moveDetails.callback&&this.moveDetails.callback());var i=this.nextPlatformNode.getComponent(m);i&&this.playerNode.position.x>=this.nextPlatformNode.position.x-i.width/2&&this.GameState===b.Running&&this.setState(b.Coming,"update")}this.GameState===b.Running&&this.contactSomething()},s.onTouchEnd=function(){console.log("onTouchEnd");var t=this.platformNode.getComponent(m),o=this.playerNode.position.x>=this.platformNode.position.x+t.width/2;this.GameState===b.Running&&this.playerNode&&o?this.playerNode.getComponent(T).flipPlayer():this.GameState===b.Touching&&this.stickNode&&(this.stickComponent=this.stickNode.getComponent(w),this.stickComponent?(this.stickComponent.stopStickGrowth(),this.playerNode.getComponent(T).setState(x.HitStick),this.stickComponent.stickFall(),this.audioController.IsMuted||(this.audioController.stopStickGrowSound(),this.audioController.playSound(this.audioController.stickHitSound)),this.setState(b.End),this.scheduleOnce(this.checkResult.bind(this),this.stickComponent.angleTime)):console.error("Stick component is missing"))},s.saveSkuCount=function(){this.skuCounter?this.skuCounter.saveSkuCount():console.error("SKU counter is missing")},s.resetSkuCount=function(){this.skuCounter?this.skuCounter.resetSkuCount():console.error("SKU counter is missing")},s.initTouchEvents=function(){console.log("initTouchEvents"),this.node.on(l.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(l.EventType.TOUCH_END,this.onTouchEnd,this)},s.createStick=function(){console.log("createStick"),this.stickNode=c(this.stickPrefab),this.stickNode.setSiblingIndex(998),this.rootNode.addChild(this.stickNode);var t=this.platformNode.getComponent(m),o=this.stickNode.getComponent(m);this.stickNode.setPosition(this.platformNode.position.x+t.width/2,this.platformNode.position.y+t.height/2),o.height=0,this.stickNode.angle=0},s.onTouchStart=function(){console.log("onTouchStart",this.GameState),this.GameState===b.Idle&&(this.setState(b.Touching),this.createStick(),this.stickComponent=this.stickNode.getComponent(w),this.stickComponent?(this.stickComponent.startStickGrowth(),this.playerNode.getComponent(T).setState(x.StickGrow),this.audioController.IsMuted||this.audioController.playStickGrowSound()):console.error("Stick component is missing"))},s.moveTo=function(t,o,e){this.moveDetails.startX=this.playerNode.position.x,this.moveDetails.targetX=t,this.moveDetails.duration=o,this.moveDetails.elapsedTime=0,this.moveDetails.callback=e,this.setState(b.Running),this.playerNode.getComponent(T).setState(x.Running)},s.checkResult=function(){if(console.log("checkResult"),this.stickNode){var t=this.stickNode.getComponent(m),o=this.stickNode.position.x+t.height,e=this.nextPlatformNode.getComponent(D);e&&e.isStickTouching(o)?(this.audioController.IsMuted||this.audioController.playSound(this.audioController.stickFallSound),this.onStickTouchPlatform()):this.onFailed()}},s.onStickTouchPlatform=function(){var t=this;console.log("onStickTouchPlatform");var o=this.nextPlatformNode.getComponent(m),e=this.nextPlatformNode.position.x+o.width/3;this.moveDetails.distance=e-this.playerNode.position.x;var i=Math.abs(this.moveDetails.distance/500);this.moveTo(e,i,(function(){t.scheduleOnce((function(){t.saveSkuCount(),t.resetPlatformsAndPlayer(),t.instantiateNextPlatform()})),t.setState(b.Idle,"onStickTouchPlatform"),t.playerNode.getComponent(T).setState(x.Idle)}))},s.resetPlatformsAndPlayer=function(){console.log("resetPlatformsAndPlayer");var t=-p.getVisibleSize().width/3,o=this.nextPlatformNode.getComponent(m),e=this.playerNode.getComponent(m);if(this.futurePlatformPosition=t-o.width/2+e.width/1.3,f(this.nextPlatformNode).to(.1,{position:new P(this.futurePlatformPosition,this.nextPlatformNode.position.y,0)}).start(),f(this.playerNode).to(.1,{position:new P(t,this.playerNode.position.y,0)}).start(),this.stickNode){var i=t-this.nextPlatformNode.position.x-o.width/2+e.width/1.3;f(this.stickNode).to(.1,{position:new P(this.stickNode.position.x+i,this.stickNode.position.y,0)}).start()}this.audioController.IsMuted||this.audioController.playSound(this.audioController.platformSound),this.platformNode.destroy(),this.platformNode=null,this.platformNode=this.nextPlatformNode;var n=this.platformNode.getComponent(D);n?n.setBonusPlatformVisibility(!1):console.error("Platform component is missing"),this.oldStickNode&&(this.oldStickNode.destroy(),this.oldStickNode=null),this.oldStickNode=this.stickNode,this.stickNode=null,this.bonusItemNode&&(console.log("BONUS ITEM NODE DESTROY!"),this.bonusItemNode.destroy()),this.scoreController.increaseScore(!1)},s.onFailed=function(){var t=this;console.log("onFailed");var o=this.stickNode.getComponent(m),e=this.stickNode.position.x+o.height-this.playerNode.position.x,i=Math.abs(e/500);this.moveTo(this.stickNode.position.x+o.height,i,(function(){t.playerNode.getComponent(T).fall(),t.audioController.IsMuted||t.audioController.playSound(t.audioController.fallSound),t.stickComponent.stickOnFail(),t.scheduleOnce((function(){t.endGame()}),1)})),this.resetSkuCount()},s.contactSomething=function(){var t=this.playerNode.getComponent(N);t&&(console.log("COLLISION DETECTED - ",t),t.on(g.BEGIN_CONTACT,this.onBeginContact,this))},s.onBeginContact=function(t,o,e){var i=o.node,n=t.node.getComponent(T).isFlipped;console.log("COLLISION - ",i.getComponent(m).width,i.getComponent(N).size),"BonusItem"===i.name&&(console.log("Player collided with bonus item"),this.GameState!==b.Running&&this.GameState!==b.Idle||(this.scheduleOnce((function(){o.node.destroy()}),0),this.skuCounter?(this.skuCounter.increaseSkuCount("Bonus"),this.playCollectBonus()):console.error("SkuCounter node not found in the scene"))),"Platform"===i.name&&n&&(console.log("Player collided with platform, failed","IS FLIPPED - ",n),this.onPlayerCrashInToPlatform())},s.onPlayerCrashInToPlatform=function(){var t=this;console.log("onPlayerCrashInToPlatform"),this.playerNode.getComponent(T).fall(),this.audioController.IsMuted||this.GameState===b.End||this.audioController.playSound(this.audioController.fallSound),this.setState(b.End),this.scheduleOnce((function(){t.endGame()}),1),this.resetSkuCount()},s.endGame=function(){console.log("endGame"),this.setState(b.End),this.scoreController.saveBestScore(),this.scoreNode.active=!1,this.endGamePopupComponent.showPopup(this.scoreController.score,this.scoreController.bestScore)},s.restartGame=function(){console.log("restartGame"),this.endGamePopupComponent.hidePopup(),this.scoreNode.active=!0,this.scoreController.resetScore(),this.dispose(),this.initializeGameInstance()},s.dispose=function(){console.log("dispose"),this.rootNode.removeAllChildren()},s.instantiateNextPlatform=function(){console.log("instantiateNextPlatform"),this.spawnNextPlatform();var t=this.moveDetails.distance/600;f(this.node).to(t,{position:new P(this.node.position.x-this.moveDetails.distance,this.node.position.y,0)}).start()},s.setState=function(t,o){void 0===o&&(o=""),this.GameState!==t&&(this.GameState=t,S("Game state:",t,"Method:",o))},s.onBonusPlatformTouched=function(){this.scoreController.increaseScore(!0),this.audioController.IsMuted||this.audioController.playSound(this.audioController.bonusSound)},s.playCollectBonus=function(){this.audioController.IsMuted||this.audioController.playSound(this.audioController.skuCollectSound)},o}(y)).prototype,"rootNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=o(V.prototype,"defaultPosition",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=o(V.prototype,"stickPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=o(V.prototype,"platformPrefab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=o(V.prototype,"playerPrefab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=o(V.prototype,"bonusItemPrefab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=o(V.prototype,"playerPrefabWidth",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),$=o(V.prototype,"platformPrefabWidth",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),tt=o(V.prototype,"endGamePopupPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=o(V.prototype,"uiNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=o(V.prototype,"scoreNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=V))||_));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameStart.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioController.ts","./PlayerStates.ts"],(function(t){var n,e,o,i,r,a,u,l,s,p,c,d,h,S,m,f,g,b;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,u=t.Node,l=t.Animation,s=t.SpriteFrame,p=t.director,c=t.UITransform,d=t.Vec3,h=t.view,S=t.tween,m=t.Sprite,f=t.Component},function(t){g=t.AudioController},function(t){b=t.PlayerStates}],execute:function(){var y,C,T,B,w,v,z,O,k,E,G,I,_,D,F,A,P;r._RF.push({},"9184e5T3/5CKIYk5ypzJuRB","GameStart",void 0);var H=a.ccclass,L=a.property;t("GameStart",(y=H("GameStart"),C=L(u),T=L(u),B=L(u),w=L(l),v=L(u),z=L(s),O=L(s),y((G=n((E=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,o(n,"gameStartButton",G,i(n)),o(n,"playerStub",I,i(n)),o(n,"platformStub",_,i(n)),o(n,"animation",D,i(n)),o(n,"soundToggleButton",F,i(n)),o(n,"soundOnSprite",A,i(n)),o(n,"soundOffSprite",P,i(n)),n.audioController=null,n.animationTime=.5,n}e(n,t);var r=n.prototype;return r.onLoad=function(){p.preloadScene("GameScene"),this.gameStartButton&&this.gameStartButton.on(u.EventType.TOUCH_END,this.onTouchEnd,this),this.soundToggleButton&&this.soundToggleButton.on(u.EventType.TOUCH_END,this.onSoundToggleButtonClicked,this)},r.start=function(){this.animation=this.getComponent(l),this.animation.play(b.Idle),this.audioController=g.getInstance(),this.updateSoundButtonSprite()},r.onTouchEnd=function(){this.soundToggleButton.active=!1,this.gameStartButton.active=!1,this.audioController.playSound(this.audioController.buttonClickSound);var t=this.platformStub.getComponent(c),n=this.playerStub.getComponent(c),e=new d(-h.getVisibleSize().width/2,-480,0),o=new d(t.width/2-n.width/1.2,this.playerStub.position.y,0);S(this.platformStub).to(this.animationTime,{position:e}).start(),S(this.playerStub).to(this.animationTime,{position:o}).start(),this.scheduleOnce((function(){p.loadScene("GameScene")}),this.animationTime)},r.onSoundToggleButtonClicked=function(){this.audioController.toggleSound(),this.updateSoundButtonSprite()},r.updateSoundButtonSprite=function(){this.audioController.playSound(this.audioController.buttonClickSound);var t=this.soundToggleButton.getComponent(m);this.audioController.IsMuted?t.spriteFrame=this.soundOffSprite:t.spriteFrame=this.soundOnSprite},n}(f)).prototype,"gameStartButton",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(E.prototype,"playerStub",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(E.prototype,"platformStub",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(E.prototype,"animation",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(E.prototype,"soundToggleButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(E.prototype,"soundOnSprite",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(E.prototype,"soundOffSprite",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=E))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameStates.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"05b7awyPLtFAabzp30xIGUS","GameStates",void 0);n("GameStates",function(n){return n.Idle="Idle",n.Touching="Touching",n.Running="Running",n.Coming="Coming",n.End="End",n}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/Hero.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerStates.ts"],(function(t){var e,i,n,o,s,a,r,l,p,c,h,u,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,r=t.Animation,l=t.log,p=t.UITransform,c=t.Vec3,h=t.tween,u=t.Component},function(t){d=t.PlayerStates}],execute:function(){var f,y,S,m,g;s._RF.push({},"b06f1lcV4VA4oShrZ6SMlex","Hero",void 0);var v=a.ccclass,w=a.property;t("Hero",(f=v("Hero"),y=w(r),f((g=e((m=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,n(e,"animation",g,o(e)),e.playerState=d.Idle,e.isFlipped=!1,e}i(e,t);var s=e.prototype;return s.onLoad=function(){this.setState(d.Idle)},s.setState=function(t){this.playerState!==t&&(this.playerState=t,this.animation.play(t),l("Player state:",t,"Animation:",this.animation.name))},s.getState=function(){return this.playerState},s.flipPlayer=function(){this.isFlipped=!this.isFlipped;var t=this.node.getComponent(p);this.node.setScale(new c(1,this.isFlipped?-1:1,1));var e=this.isFlipped?this.node.position.y-t.width-5:this.node.position.y+t.width+5;this.node.setPosition(new c(this.node.position.x,e,0)),console.log("Player flipped:",this.isFlipped,"New Position Y:",e)},s.fall=function(){this.setState(d.Falling),h(this.node).to(.5,{position:new c(this.node.position.x,-1200,0)}).start()},e}(u)).prototype,"animation",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=m))||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./BonusItem.ts","./GameControll.ts","./Hero.ts","./Platform.ts","./RootScript.ts","./GameStates.ts","./PlayerStates.ts","./Stick.ts","./AudioController.ts","./EndGamePopup.ts","./GameStart.ts","./ScoreController.ts","./SkuCounter.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Platform.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,i,n,e,r,a,l,s,h,u,m,f,p,d;return{setters:[function(t){o=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.CCFloat,s=t.Node,h=t.CCBoolean,u=t.Vec3,m=t.UITransform,f=t.BoxCollider2D,p=t.Vec2,d=t.Component}],execute:function(){var c,b,P,w,g,y,M,x,W,v,C,B,z,N,S;r._RF.push({},"632deNavcJLrK/u6q6bl2ND","Platform",void 0);var D=a.ccclass,T=a.property;t("Platform",(c=D("Platform"),b=T({type:l,displayName:"Min Width",tooltip:"Minimum width of platform"}),P=T({type:l,displayName:"Max Width",tooltip:"Maximum width of platform"}),w=T({type:s,displayName:"Bonus Platform",tooltip:"Bonus platform"}),g=T({type:l,displayName:"Bonus Platform Min Width",tooltip:"Minimum width of bonus platform"}),y=T({type:l,displayName:"Bonus Platform Max Width",tooltip:"Maximum width of bonus platform"}),M=T({type:h,displayName:"Bonus Platform showed",tooltip:"Represents if the bonus platform is showed"}),c((v=o((W=function(t){function o(){for(var o,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return o=t.call.apply(t,[this].concat(r))||this,n(o,"platformMinWidth",v,e(o)),n(o,"platformMaxWidth",C,e(o)),n(o,"bonusPlatform",B,e(o)),n(o,"bonusPlatformMinWidth",z,e(o)),n(o,"bonusPlatformMaxWidth",N,e(o)),n(o,"bonusPlatformShowed",S,e(o)),o}i(o,t);var r=o.prototype;return r.onLoad=function(){this.bonusPlatform.setSiblingIndex(999)},r.initPlatform=function(t,o,i){void 0===o&&(o=0),void 0===i&&(i=!0),console.log("initPlatform",t,o),this.node.setPosition(new u(t,-480,0));var n=this.node.getComponent(m);n.width=o>0?o:this.platformMinWidth+Math.random()*(this.platformMaxWidth-this.platformMinWidth);var e=this.node.getComponent(f);e.size.width=n.width,e.size.height=n.height-5,e.offset=new p(0,-5);var r=(n.width-this.platformMinWidth)/(this.platformMaxWidth-this.platformMinWidth),a=this.bonusPlatform.getComponent(m);a.width=this.bonusPlatformMinWidth+r*(this.bonusPlatformMaxWidth-this.bonusPlatformMinWidth),this.setBonusPlatformVisibility(i),console.log("Platform width set to",n.width),console.log("Bonus Platform width set to",a.width)},r.isStickTouching=function(t){console.log("isStickTouching",t,this.node.position.x,this.node.getComponent(m).width);var o=this.node.position.x+this.bonusPlatform.position.x-this.bonusPlatform.getComponent(m).width/2,i=this.node.position.x+this.bonusPlatform.position.x+this.bonusPlatform.getComponent(m).width/2;this.bonusPlatform.active&&t>o&&t<i&&(console.log("Bonus platform touched"),this.node.emit("bonusPlatformTouched"));var n=this.node.position.x-this.node.getComponent(m).width/2,e=this.node.position.x+this.node.getComponent(m).width/2;return t>n&&t<e&&(console.log("Platform touched"),!0)},r.setBonusPlatformVisibility=function(t){this.bonusPlatform.active=this.bonusPlatformShowed=t},o}(d)).prototype,"platformMinWidth",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),C=o(W.prototype,"platformMaxWidth",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),B=o(W.prototype,"bonusPlatform",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=o(W.prototype,"bonusPlatformMinWidth",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),N=o(W.prototype,"bonusPlatformMaxWidth",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),S=o(W.prototype,"bonusPlatformShowed",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),x=W))||x));r._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerStates.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"d138dgkxGBHq4jfyrV9hu8R","PlayerStates",void 0);t("PlayerStates",function(t){return t.Idle="PlayerIdle",t.Running="PlayerRun",t.StickGrow="PlayerStickGrow",t.HitStick="PlayerHitStick",t.Falling="Falling",t.Crash="Crash",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/RootScript.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,r,c,n;return{setters:[function(t){o=t.inheritsLoose},function(t){r=t.cclegacy,c=t._decorator,n=t.Component}],execute:function(){var e;r._RF.push({},"49b9cYy4r9Mf4PSeH317gOp","RootScript",void 0);var i=c.ccclass;c.property,t("RootScript",i("RootScript")(e=function(t){function r(){return t.apply(this,arguments)||this}o(r,t);var c=r.prototype;return c.start=function(){},c.update=function(t){},r}(n))||e);r._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,r,i,c,n,s,a,l,p,u,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){c=e.cclegacy,n=e._decorator,s=e.Node,a=e.UIOpacity,l=e.tween,p=e.Vec3,u=e.Label,d=e.Component}],execute:function(){var f,h,b,y,S,N,v;c._RF.push({},"91e8b8f05dOh4L08KP7QIWE","ScoreController",void 0);var g=n.ccclass,L=n.property;e("ScoreController",(f=g("ScoreController"),h=L({type:s,displayName:"Score Text Node",tooltip:"Node that displays the score"}),b=L({type:s,displayName:"Perfect Label Node",tooltip:"Node that displays the perfect label"}),f((N=t((S=function(e){function t(){for(var t,o=arguments.length,c=new Array(o),n=0;n<o;n++)c[n]=arguments[n];return t=e.call.apply(e,[this].concat(c))||this,r(t,"scoreTextNode",N,i(t)),r(t,"perfectLabelNode",v,i(t)),t.score=0,t.bestScore=0,t}o(t,e);var c=t.prototype;return c.increaseScore=function(e){if(void 0===e&&(e=!1),this.score++,e){this.perfectLabelNode.active=!0;var t=this.perfectLabelNode.getComponent(a);t&&l(this.perfectLabelNode).by(.5,{position:new p(0,50,0)}).call((function(){t.opacity=255})).delay(.5).call((function(){t.opacity=0})).by(.3,{position:new p(0,-50,0)}).start()}this.updateScore()},c.saveBestScore=function(){this.score>this.bestScore&&(this.bestScore=this.score,console.log("New best score:",this.bestScore))},c.updateScore=function(){var e=this.scoreTextNode.getComponent(u);e&&(e.string=this.score.toString())},c.resetScore=function(){this.score=0,this.updateScore()},t}(d)).prototype,"scoreTextNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(S.prototype,"perfectLabelNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=S))||y));c._RF.pop()}}}));

System.register("chunks:///_virtual/SkuCounter.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var u,e,n,o,s,i,a,r,l,p;return{setters:[function(t){u=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,i=t._decorator,a=t.Label,r=t.error,l=t.sys,p=t.Component}],execute:function(){var c,k,h,C,S;s._RF.push({},"b3bc1z5mi1L/o4H8S0BjC0y","SkuCounter",void 0);var b=i.ccclass,f=i.property;t("SkuCounter",(c=b("SkuCounter"),k=f({type:a,displayName:"SKU Label",tooltip:"Label that displays the SKU count"}),c((S=u((C=function(t){function u(){for(var u,e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];return u=t.call.apply(t,[this].concat(s))||this,n(u,"skuLabel",S,o(u)),u.skuCount={},u.tempSkuCount={},u}e(u,t);var s=u.prototype;return s.onLoad=function(){this.skuLabel||r("SkuCounter: skuLabel is not assigned!"),this.loadSkuCount(),this.updateLabel()},s.increaseSkuCount=function(t){this.tempSkuCount[t]||(this.tempSkuCount[t]=0),this.tempSkuCount[t]++,this.updateLabel()},s.saveSkuCount=function(){for(var t in this.tempSkuCount)this.skuCount[t]||(this.skuCount[t]=0),this.skuCount[t]+=this.tempSkuCount[t];this.tempSkuCount={},l.localStorage.setItem("skuCount",JSON.stringify(this.skuCount)),this.updateLabel()},s.resetSkuCount=function(){this.tempSkuCount={},this.updateLabel()},s.updateLabel=function(){this.skuLabel.string=""+((this.skuCount.Bonus||0)+(this.tempSkuCount.Bonus||0))},s.loadSkuCount=function(){var t=l.localStorage.getItem("skuCount");this.skuCount=t?JSON.parse(t):{}},u}(p)).prototype,"skuLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=C))||h));s._RF.pop()}}}));

System.register("chunks:///_virtual/Stick.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameControll.ts"],(function(t){var i,e,n,o,r,a,c,s,l,h,p,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.UITransform,s=t.director,l=t.Canvas,h=t.tween,p=t.Component},function(t){u=t.GameControll}],execute:function(){var g,f,m,k,w,d,y;r._RF.push({},"823ebk3S+dIvIp7VFnr4nsC","Stick",void 0);var G=a.ccclass,S=a.property;t("Stick",(g=G("Stick"),f=S({type:Number,displayName:"Stick Growth Rate",tooltip:"Rate at which stick grows"}),m=S({type:Number,displayName:"Angle Time",tooltip:"Time for stick to fall"}),g((d=i((w=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,n(i,"stickGrowthRate",d,o(i)),n(i,"angleTime",y,o(i)),i.isGrowing=!1,i}e(i,t);var r=i.prototype;return r.startStickGrowth=function(){this.isGrowing=!0},r.stopStickGrowth=function(){this.isGrowing=!1},r.growStick=function(t){if(this.isGrowing){var i=this.node.getComponent(c);if(i)if(i.height+=this.stickGrowthRate*t,i.height>=2500)this.stopStickGrowth(),s.getScene().getComponentInChildren(l).getComponent(u).onTouchEnd()}},r.stickFall=function(){h(this.node).to(this.angleTime,{angle:-90}).start()},r.stickOnFail=function(){h(this.node).to(this.angleTime,{angle:-180}).start()},i}(p)).prototype,"stickGrowthRate",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 400}}),y=i(w.prototype,"angleTime",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),k=w))||k));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});